!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DitherJS=e():t.DitherJS=e()}(window,(function(){return function(t){var e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=8)}([function(t,e,r){var o=r(1);o.prototype.dither=function(t,e){return"string"==typeof t?this._fromSelector(t,e):"object"==typeof t&&t instanceof window.HTMLImageElement?this._fromImgElement(t,e):"object"==typeof t&&t instanceof window.HTMLCanvasElement?this._fromCanvasElement(t,e):void console.log("ditherjs cannot process",t)},o.prototype._replaceElementWithCtx=function(t){var e,r=document.createElement("canvas");return r.height=t.clientHeight,r.width=t.clientWidth,t.parentNode.replaceChild(r,t),r.className=t.className,"hidden"===t.style.visibility&&(r.style.visibility="visible"),(e=r.getContext("2d")).imageSmoothingEnabled=!1,e},o.prototype._fromImgElement=function(t,e){var r=t.clientHeight,o=t.clientWidth,n=this._replaceElementWithCtx(t);n.drawImage(t,0,0,o,r);var i=n.getImageData(0,0,o,r);this.ditherImageData(i,e),n.putImageData(i,0,0)},o.prototype._fromCanvasElement=function(t,e){var r=t.clientHeight,o=t.clientWidth,n=t.getContext("2d");n.imageSmoothingEnabled=!1;var i=n.getImageData(0,0,o,r);this.ditherImageData(i,e),n.putImageData(i,0,0)},o.prototype._fromSelector=function(t,e){var r=this,o=document.querySelectorAll(t),n=function(t){return function(){r._fromImgElement(t,e)}};try{for(var i=0;i<o.length;i++){var a=o[i];a.style.visibility="hidden",a.src=a.src+"?"+Date.now(),a.onload=n(a)}}catch(t){console.error(t)}},t.exports=o},function(t,e,r){var o=r(2),n=function(t){this.options=t||{},this.options.algorithm=this.options.algorithm||"ordered",this.options.step=this.options.step||1,this.options.className=this.options.className||"dither",this.options.palette=this.options.palette||o.defaultPalette};n.orderedDither=r(4),n.atkinsonDither=r(5),n.errorDiffusionDither=r(6),n.prototype.ditherImageData=function(t,e){var r,i;if("diffusion"==(e=e||this.options).algorithm)r=n.errorDiffusionDither;else if("ordered"==e.algorithm)r=n.orderedDither;else{if("atkinson"!=e.algorithm)throw o.errors.InvalidAlgorithm;r=n.atkinsonDither}e.debug&&(i=Date.now());var a=r.call(this,t.data,e.palette,e.step,t.height,t.width);e.debug&&console.log("Microtime: ",Date.now()-i),t.data.set(a)},n.prototype.colorDistance=function(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))},n.prototype.approximateColor=function(t,e){var r=function(t,e,o,n){if(2==o.length)return t(e,n)<=t(e,o[1])?n:o[1];var i=o.slice(1);return n=t(e,n)<=t(e,o[1])?n:o[1],r(t,e,i,n)};return r(this.colorDistance,t,e,e[0])},t.exports=n},function(t,e,r){e.defaultPalette=[[0,0,0],[255,0,255],[0,255,255],[255,255,255]],e.errors={CanvasNotPresent:new Error("CanvasNotPresent"),TargetNotBuffer:new Error("TargetNotBuffer"),InvalidAlgorithm:new Error("InvalidAlgorithm")},e.targetTypes={selector:"SELECTOR",buffer:"BUFFER"},e.Canvas=null;try{e.Canvas=r(3)}catch(t){e.Canvas=null}},function(t,e){},function(t,e){t.exports=function(t,e,r,o,n){for(var i,a,l,s,f,c,u,p,d,h,y,m,x=new Uint8ClampedArray(t),g=new Array([1,9,3,11],[13,5,15,7],[4,12,2,10],[16,8,14,6]),v=0;v<o;v+=r)for(var w=0;w<n;w+=r)for(a=(s=4*w+4*v*n)+1,l=s+2,s+3,x[i=s]+=3*g[w%4][v%4],x[a]+=3*g[w%4][v%4],x[l]+=3*g[w%4][v%4],f=new Array(x[i],x[a],x[l]),u=(c=this.approximateColor(f,e))[0],p=c[1],d=c[2],h=0;h<r;h++)for(y=0;y<r;y++)x[m=s+4*h+4*n*y]=u,x[m+1]=p,x[m+2]=d;return x}},function(t,e){t.exports=function(t,e,r,o,n){for(var i,a,l,s,f,c,u,p,d,h,y,m,x,g=new Uint8ClampedArray(t),v=new Uint8ClampedArray(t),w=function(t,e){return 4*t+4*e*n},b=0;b<o;b+=r)for(var C=0;C<n;C+=r)for(i=f=4*C+4*b*n,a=f+1,l=f+2,f+3,c=new Array(g[i],g[a],g[l]),u=this.approximateColor(c,e),(s=[])[i]=g[i]-u[0],s[a]=g[a]-u[1],s[l]=g[l]-u[2],g[w(C+r,b)+0]+=1/8*s[i],g[w(C-r,b+r)+0]+=1/8*s[i],g[w(C,b+r)+0]+=1/8*s[i],g[w(C+r,b+r)+0]+=1/8*s[i],g[w(C+2*r,b)+0]+=1/8*s[i],g[w(C,b+2*r)+0]+=1/8*s[i],g[w(C+r,b)+1]+=1/8*s[a],g[w(C-r,b+r)+1]+=1/8*s[a],g[w(C,b+r)+1]+=1/8*s[a],g[w(C+r,b+r)+1]+=1/8*s[a],g[w(C+2*r,b)+1]+=1/8*s[a],g[w(C,b+2*r)+1]+=1/8*s[a],g[w(C+r,b)+2]+=1/8*s[l],g[w(C-r,b+r)+2]+=1/8*s[l],g[w(C,b+r)+2]+=1/8*s[l],g[w(C+r,b+r)+2]+=1/8*s[l],g[w(C+2*r,b)+2]+=1/8*s[l],g[w(C,b+2*r)+2]+=1/8*s[l],p=u[0],d=u[1],h=u[2],y=0;y<r;y++)for(m=0;m<r;m++)v[x=f+4*y+4*n*m]=p,v[x+1]=d,v[x+2]=h;return v}},function(t,e){t.exports=function(t,e,r,o,n){var i,a,l,s,f,c,u,p,d,h,m,g,v,w=new Uint8ClampedArray(t),b=new Uint8ClampedArray(t),C=function(t,e){return 4*t+4*e*n};for(y=0;y<o;y+=r)for(x=0;x<n;x+=r)for(i=f=4*x+4*y*n,a=f+1,l=f+2,f+3,c=new Array(w[i],w[a],w[l]),u=this.approximateColor(c,e),(s=[])[i]=w[i]-u[0],s[a]=w[a]-u[1],s[l]=w[l]-u[2],w[C(x+r,y)]=w[C(x+r,y)]+.4375*s[i],w[C(x-r,y+1)]=w[C(x-1,y+r)]+.1875*s[i],w[C(x,y+r)]=w[C(x,y+r)]+.3125*s[i],w[C(x+r,y+r)]=w[C(x+1,y+r)]+.0625*s[i],w[C(x+r,y)+1]=w[C(x+r,y)+1]+.4375*s[a],w[C(x-r,y+r)+1]=w[C(x-r,y+r)+1]+.1875*s[a],w[C(x,y+r)+1]=w[C(x,y+r)+1]+.3125*s[a],w[C(x+r,y+r)+1]=w[C(x+r,y+r)+1]+.0625*s[a],w[C(x+r,y)+2]=w[C(x+r,y)+2]+.4375*s[l],w[C(x-r,y+r)+2]=w[C(x-r,y+r)+2]+.1875*s[l],w[C(x,y+r)+2]=w[C(x,y+r)+2]+.3125*s[l],w[C(x+r,y+r)+2]=w[C(x+r,y+r)+2]+.0625*s[l],p=u[0],d=u[1],h=u[2],m=0;m<r;m++)for(g=0;g<r;g++)b[v=f+4*m+4*n*g]=p,b[v+1]=d,b[v+2]=h;return b}},,function(t,e,r){var o=void(jQuery.fn.ditherJS=function(t){new(r(0))(t).dither(this.selector)});t.exports=o}])}));